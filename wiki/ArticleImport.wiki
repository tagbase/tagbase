#summary Steps to import to Tagbase

<wiki:toc max_depth="2" />

= Overview =

== 5 steps to import tag data ==

  # Set up a batch job file from the Excel template, _!TagBaseBatchJob.xlt_
  # Put the batch job file into the folder where your tag data files are
  # Start *Tagbase*
  # Set up binning schemes (only for WC PAT tags)
  # Import via _!Batch_Import_TagData_ form

== A fish or an animal  ==

In Tagbase, we take an individual organism as our basis for an operation unit. Although we should use a more generic term like organism or release, we allow ourselves to be marine- and fish- centric, and refer any single unit as a *Fish*. 

Of course, we do love our birds, turtles, jellyfish, and yes, whales and dolphins.

== For the impatient ones, a quick guide to Tagbase import ==

http://tagbase.googlecode.com/svn/trunk/docs/TagBaseQuickImport.ppt

= Step 1 - Setting up the batch job file from the Excel template =

{{{ 
Tips -
You can modify a copy of the template from the sample dataset 
or locate and click on the TagBaseBatchJob.xlt in the <templates> folder
}}}

http://tagbase.googlecode.com/svn/trunk/images/ImportJob1.jpg

=== General principle ===

Each row of data corresponds to a single tag output file. You can have 2 or more rows of data for an archival tag or for a double-tagged fish. All essential and required fields must be present for each row of data. 

For each tag you import, make sure you have the following Essential fields (Yellow): `IndivID`, `Filename`, `TagCode`, `TagPTTID`, `TagManufacturer`

=== Essential fields ===

  * `IndivID` - This number is a counter identifying how many individual fish (or animal) you are trying to import. If you have data for 10 fish, this `IndivID` should start from 1 for the first fish, then increment by one all the way to 10 for each of the remaining fish. The same `IndivID` number can be used for the same fish that carries multiple tags or has data from two or more output files.

  * `Filename` - This is the filename of the file you are importing. Include the file extension (.csv or .xls). The file directory path (e.g. <C:\Data\...>) is necessary if the batch job file does not sit in the same directory as your data files you want to import.

{{{ 
Tips -
For Wildlife Computer DAP (.csv) output files, 
you can use the wildcard character (star or asterisk or *) 
in a single entry to denote all files beginning with the same prefix. See a screenshot below.
}}}

  * `TagCode` - This is the serial code of your tag and has to be a unique. Use the same `TagCode` for archival tags where there are two output files for each tag.

  * `TagPTTID` - This can be the PTT code you use for Argos transmission, or a label of your own.

 * `TagManufacturer` - This denotes the type of data to import, it must be from one of these 4 options: WC or Wildlife Computers, MT or Microwave Telemetry, Archival, SPOT.

{{{ 
Tips -
1. Recovered WC PAT should be denoted as "Archival"
2. Recovered MT PAT should remain as "Microwave Telemetry"
}}}

=== Additional required fields ===
====   for Archival tags (Turquoise) [optional for other tags, see Tips below] ====
 * `DateTime_Deploy`
 * `DateTime_Popoff` 
 * `Lat_Deploy`
 * `Lon_Deploy`
 * `Lat_Popoff`
 * `Lon_Popoff`

_Popoff_ is used loosely here, which can also mean tag recovery or retrieval

{{{ 
Tips -
You can fill in these fields for other tag types other than archival, 
Tagbase will use the information you enter here instead of the automated
data lookup from your tag files. In this way, your manual entry will always
take precedence over our automation.

Also when you do provide your own information rather those from the automatic lookup,
make sure you fill in ALL of the above 6 fields (DateTime_Deploy,
DateTime_Popoff etc.) Leaving any field out will update your record in
Tagbase as with a blank (null).
}}}


====  for Wildlife Computers PAT tags (Orange)====

  * `BinSampleInterval` - This denotes in hours (e.g. 2, 6, 12 or 24), how frequent is your time-at-depth or time-at-temperature is being sampled

  * `BinID_Depth` - the identifier (any number < 100) that corresponds to a particular binning scheme, `BinID`, having been set in *`WC_BinInfo`* table (see Step 3)

  * `BinID_Temperature` - the identifier (any number >= 100) that corresponds to a particular binning scheme, `BinID`, having been set in *`WC_BinInfo`* table (see Step 3)

{{{ 
Tips -
When a setup/ configuration file is supplied (.htm), 
Tagbase will try to gather information for these three fields. 
Therefore you can leave these fields blank.
}}}

http://tagbase.googlecode.com/svn/trunk/images/ImportJob2.jpg

====  Optional fields ====

  * `FAOSpeciesCode` - 3 character codes for [http://www.fao.org/fishery/collection/asfis/en FAO]
  * other fields are found towards the end of the job spreadsheet

= Step 2 - Save your batch job file =

Save your job file (e.g _!MyTagbaseJob1.xls_) into the folder where your data files are located or where appropriate.

= Step 3 - Start Tagbase =

This should be very easy!

= Step 4 - Setting up the *`WC_BinInfo`* (Wildlife Computers PAT tags only) =

You may have used multiple histogram binning schemes for the time-at-depth or time-at-temperature worksheets. Depending on the tag model as well, there can be 12 or 14 Bins. 

You can skip this step if you are providing the configuration file (.htm) as an entry in the job file (e.g _!MyTagbaseJob1.xls_).

All the binning schemes can be specified in *`WC_BinInfo`* table in the following way:

 # In *`Tables`*, double-click to open the *`WC_BinInfo`* table
 # Modify or add binning schemes are explained below

http://tagbase.googlecode.com/svn/trunk/images/ImportBins.jpg

  * `BinID` - Unique ID for a particular scheme. By convention, `BinID` < 100 is used for depth, `BinID` > 100 for temperature. The above example, showed two schemes of 12 bins (`BinID` = 1 for depth and `BinID` = 100 for temperature). 
  * `BinMin`, `BinMax` - fill in the physical values for a specific bin (1-12)
  * `Bin` - should go from 1-12 or 14
  * `BinRange` - is a housekeeping, optional note field

= Step 5 - Import via _!Batch_Import_TagData_ form =

  # You can browse from the [ArticleNavigation Form Navigation Tool] > Import > Batch_Import_TagData or locate it under *`Forms`*
  # Follow the instructions on the form to import - which direct you to locate the job file and initiate import

http://tagbase.googlecode.com/svn/trunk/images/ImportBatch.jpg